<!doctype html>

<html>
	<head>
    		<title> Music Playlist of kback119 </title>
		<link rel="stylesheet" href="https://rfollman.github.io/main-php.css">
		<script>
			var music = [
				{"Title": "Stargazing", "Artist": "Kygo", 
				 "Album": "Stargazing", "Duration": "236s"},
				
				{"Title": "Stole the Show", "Artist": "Kygo",
				 "Album": "Cloud Nine", "Duration": "223s"},
				
				{"Title": "Adventure of a Lifetime", "Artist": "Coldplay", 
				 "Album": "A Head Full of Dreams", "Duration": "263s"},
				
				{"Title": "Kids", "Artist": "MGMT", 
				 "Album": "Oracular Spectacular", "Duration": "329s"},
				
				{"Title": "The Nights", "Artist": "Avicii", 
				 "Album": "Stories", "Duration": "176s"}
				];
		</script>
	</head>
	<body>
		<h1><font color="#77BFC7">Music playlist of kback119</font></h2> 
		<h2><font color="#77BFC7">Top 5 Songs</font></h2>
		<table>
			<thead>
				<tr><th>Title</th><th>Artist</th><th>Album</th><th>Duration</th></tr>
			</thead>
				<tbody id="newmusic">	
			</tbody>
		</table>
		<script>
			/*document.write(users[0].First);*/
			var text = "";
			var newtext = "";
			/*var x;*/
			for (var x in music) {
				if (music.hasOwnProperty(x)) {
					var obj = music[x];
					newtext += "<tr><td>" + obj['Title'] + "</td><td>" + 
						obj['Artist'] + "</td><td>" + obj['Album'] + "</td><td>"
						+ obj['Duration'] + "</td></tr>";
				}
			}
			document.getElementById("newmusic").innerHTML = newtext;
			/*suggestions from https://www.htmlgoodies.com/html5/javascript/calculating-the-difference-between-two-dates-in-javascript.html*/
			function dateCalc(d) {
				var oneDay = 1000 * 60 * 60 * 24;
				var month = d.split("/")[0] - 1,
					day = d.split("/")[1],
					year = d.split("/")[2]
				if (year.length == 2) {year = '20' + year;}
				date1 = new Date(year, month, day);
				var date1_ms = date1.getTime();
				var date2 = new Date();
				var date2_ms = date2.getTime();
				var diff_ms = date2_ms - date1_ms;
				return Math.round(diff_ms/oneDay);
			}
			var text = "";
			var newtext = "";
			for (var x in music) {
				if (music.hasOwnProperty(x)) {
					var obj = music[x];
					for (var y in obj) {
						if (obj.hasOwnProperty(y)) {
							text += "<tr><td align='right'>" + y + "</td><td>" + obj[y] + "</td></tr>";
						}
					}
					newtext += "<tr><td>" + obj['First'] + " " + obj['Last'] + "</td><td>" + 
						obj['User ID'] + "</td><td>" + 
						obj['Date of Login'] + "</td><td>" +
						obj['City'] + "</td><td>" +
						dateCalc(obj['Date of Login']) + "</td></tr>";
				}
			}
			document.getElementById("newmusic").innerHTML = text;
			document.getElementById("newmusic").innerHTML = newtext;
		</script>
		<p> Want to go back to the index? Press below </p>
		<button type="button" onClick=window.location.replace("https://kback119.github.io/")> Back to index page</button>
	</body>
</html>
